<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>SIMS Dashboard</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
  </head>
  <body onload="initDash()">
    <header>
      <div class="logo-area">
        <h3>ðŸ“¶SIMS|</h3>
        <h6>Stock Inventory Management System</h6>
      </div>
      <div>
        <span id="uname"></span><br />Administrator
        <button onclick="logout()">Logout</button>
      </div>
    </header>

    <div class="layout">
      <aside>
        <ul>
          <li onclick="showDashboard()" id="dashBtn">
            <i class="fa fa-home"></i> Dashboard
          </li>
          <li onclick="showProducts()" id="prodBtn">
            <i class="fa fa-box"></i> Products
          </li>
          <li><i class="fa fa-chart-bar"></i> Reports</li>
          <li><i class="fa fa-cog"></i> Settings</li>
        </ul>
      </aside>

      <main>
        <div id="dashboardSection">
          <h1>Dashboard</h1>
          <h3>Overview of your inventory status</h3>
        </div>
        <div class="cards">
          <div class="card">
            Total Products
            <b
              ><span id="tprod"></span>
              <h3>+12 this month</h3>
            </b>
          </div>
          <div class="card green">
            In Stock
            <b
              ><span id="inst"></span>
              <h3><span id="inPercent">0</span>% of total</h3></b
            >
          </div>
          <div class="card red">
            Out
            <b
              ><span id="outst"></span>
              <h3><span id="outPercent">0</span>% of total</h3></b
            >
          </div>
        </div>

        <button onclick="toggleForm()">Add Product</button>
        <input
          type="search"
          placeholder="ðŸ”search Products...."
          id="searchInput"
        />
        <div id="pform" class="hidden">
          <input id="pname" placeholder="Product Name" />
          <input id="pcat" placeholder="Category" />
          <input id="pqty" type="number" placeholder="Quantity" />
          <input id="pprice" type="number" placeholder="Price" />
          <button onclick="addProduct()">Save</button>
        </div>
        <div class="Gen">
          <table id="productTable">
            <thead>
              <tr>
                <e id="productSection" class="hidden">
                  <h1>Product</h1>
                  <input
                    type="search"
                    placeholder="ðŸ”search Products...."
                    id="searchInput"
                  />
                </e>
                <th>Product ID</th>
                <th>Product Name</th>
                <th>Category</th>
                <th>Quantity</th>
                <th>Price</th>
                <th>Status</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody id="ptable"></tbody>
          </table>
        </div>
      </main>
    </div>
    <footer>Â©copyright Gensoft</footer>
    <script src="auth.js"></script>
  </body>
  <script>
    document
      .getElementById("searchInput")
      .addEventListener("keyup", function () {
        let filter = this.value.toLowerCase();
        let table = document.getElementById("productTable");
        let tr = table.getElementsByTagName("tr");

        for (let i = 1; i < tr.length; i++) {
          let tdName = tr[i].getElementsByTagName("td")[1]; // Product Name
          let tdCategory = tr[i].getElementsByTagName("td")[2]; // Category

          if (tdName || tdCategory) {
            let nameText = tdName.textContent.toLowerCase();
            let categoryText = tdCategory.textContent.toLowerCase();

            if (
              nameText.indexOf(filter) > -1 ||
              categoryText.indexOf(filter) > -1
            ) {
              tr[i].style.display = "";
            } else {
              tr[i].style.display = "none";
            }
          }
        }
      });
  </script>
</html>
